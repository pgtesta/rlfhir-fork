{
  "resourceType": "StructureDefinition",
  "url": "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationPLOLetto",
  "name": "RLLocationPLOLetto",
  "status": "draft",
  "description": "Questo profilo riporta le informazioni relative al posto letto occupato.",
  "keyword": [
    {
      "system": "https://fhir.siss.regione.lombardia.it/CodeSystem/Tag",
      "code": "PLO"
    }
  ],
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "Location",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Location",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Location.id",
        "path": "Location.id",
        "short": "UUID prodotto dal server FHIR (applicativo) che detiene la risorsa. Per maggiori informazioni su chi detiene la risorsa consultare il paragrafo API-Restful nella pagina di Contesto.",
        "min": 1
      },
      {
        "id": "Location.meta",
        "path": "Location.meta",
        "min": 1
      },
      {
        "id": "Location.meta.versionId",
        "path": "Location.meta.versionId",
        "short": "Versione della risorsa",
        "min": 1
      },
      {
        "id": "Location.meta.lastUpdated",
        "path": "Location.meta.lastUpdated",
        "short": "Data e ora di aggiornamento relativa al posto letto occupato",
        "definition": "Formato standard FHIR: YYY-MM-DDThh:mm:ss.sss+zz:zz",
        "comment": "Fonte: \"dataOraAggiornamento\"",
        "min": 1
      },
      {
        "id": "Location.meta.profile",
        "path": "Location.meta.profile",
        "short": "Profilo al quale la risorsa si riferisce",
        "min": 1,
        "max": "1"
      },
      {
        "id": "Location.extension",
        "path": "Location.extension",
        "min": 3
      },
      {
        "id": "Location.extension:areaDegenza",
        "path": "Location.extension",
        "sliceName": "areaDegenza",
        "short": "Area Degenza",
        "definition": "Identificativo dell’area di degenza dove il paziente risulta allettato",
        "comment": "Fonte: \"areaDegenza\"\r\nObbligatorio se non è presente l'informazione sul reparto fisico",
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationAreaDegenza"
            ]
          }
        ],
        "constraint": [
          {
            "key": "e",
            "severity": "error",
            "human": "extension.areaDegenza or extension.repartoClinico or both SHALL be present",
            "expression": "areaDegenza.exists() or repartoClinico.exists()"
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.extension:dataOraAccettazione",
        "path": "Location.extension",
        "sliceName": "dataOraAccettazione",
        "short": "Data e ora di accettazione del paziente (ingresso in struttura)",
        "comment": "Fonte: \"dataOraAccettazione\"",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationDataOraAccettazione"
            ]
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.extension:dataOraDimissionePrevista",
        "path": "Location.extension",
        "sliceName": "dataOraDimissionePrevista",
        "short": "Data e ora prevista per la dimissione del paziente",
        "definition": "In caso in cui non è disponibile l’ora, indicare mezzanotte.\r\n\r\nIn caso in cui il valore non è noto, non deve essere presente l'intero elemento JSON.",
        "comment": "Fonte: \"dataOraDimissionePrevista\"",
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationDataOraDimissionePrevista"
            ]
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.extension:dataOraOccupazioneLetto",
        "path": "Location.extension",
        "sliceName": "dataOraOccupazioneLetto",
        "short": "Data e ora occupazione posto letto",
        "definition": "Valorizzata con data e ora di assegnazione del letto.\r\n\r\nIn caso in cui il valore non è noto, non deve essere presente l'intero elemento JSON.",
        "comment": "Fonte: \"dataOraOccupazioneLetto\"",
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationDataOraOccupazioneLetto"
            ]
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.extension:dimissioneProtetta",
        "path": "Location.extension",
        "sliceName": "dimissioneProtetta",
        "short": "Dimissione protetta",
        "definition": "Flag dimissione protetta, può assumere i seguenti valori: “true” o “false”.\r\n\r\nIn caso in cui il valore non è noto, non deve essere presente l'intero elemento JSON.",
        "comment": "Fonte: \"dimissioneProtetta\"",
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationDimissioneProtetta"
            ]
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.extension:regimeRicovero",
        "path": "Location.extension",
        "sliceName": "regimeRicovero",
        "short": "Regime di ricovero",
        "definition": "Il regime di ricovero viene valorizzato utilizzando i codici definiti per la Scheda di Dimissione Ospedaliera (SDO) e che sono riportati nel relativo Value Set. Nota: il servizio sull'occupazione dei posti letto non deve esporre l'informazione sui letti in regimi diversi da quello di ricovero (es. regime ambulatoriale).",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationRegimeRicovero"
            ]
          }
        ],
        "isModifier": false,
        "binding": {
          "strength": "required",
          "description": "ValueSet relativo al regime di ricovero",
          "valueSet": "https://fhir.siss.regione.lombardia.it/ValueSet/RegimeRicovero"
        }
      },
      {
        "id": "Location.extension:repartoClinico",
        "path": "Location.extension",
        "sliceName": "repartoClinico",
        "short": "Identificativo del reparto clinico che ha in carico il paziente",
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationRepartoClinico"
            ]
          }
        ],
        "constraint": [
          {
            "key": "e",
            "severity": "error",
            "human": "extension.areaDegenza or extension.repartoClinico or both SHALL be present",
            "expression": "areaDegenza.exists() or repartoClinico.exists()"
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.extension:repartoFisico",
        "path": "Location.extension",
        "sliceName": "repartoFisico",
        "short": "Identificativo del reparto fisico dove il paziente risulta allettato",
        "comment": "obbligatorio se non è presente l'informazione sull'area di degenza",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationRepartoFisico"
            ]
          }
        ],
        "isModifier": false
      },
      {
        "id": "Location.identifier",
        "path": "Location.identifier",
        "short": "Identificativo del posto letto occupato",
        "definition": "Stringa composta dalle seguenti informazioni: \"codiceL2-Edificio-Piano-Stanza-Letto\"",
        "min": 1,
        "max": "1"
      },
      {
        "id": "Location.operationalStatus",
        "path": "Location.operationalStatus",
        "short": "Stato di occupazione del posto letto",
        "binding": {
          "strength": "required"
        }
      },
      {
        "id": "Location.operationalStatus.system",
        "path": "Location.operationalStatus.system",
        "short": "Sisitema di codifica"
      },
      {
        "id": "Location.operationalStatus.code",
        "path": "Location.operationalStatus.code",
        "short": "Codice stato di occupazione del posto letto"
      },
      {
        "id": "Location.name",
        "path": "Location.name",
        "short": "Nome identificativo letto"
      },
      {
        "id": "Location.physicalType",
        "path": "Location.physicalType",
        "fixedCodeableConcept": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/ValueSet/location-physical-type",
              "code": "bd",
              "display": "bed"
            }
          ]
        },
        "binding": {
          "strength": "required"
        }
      },
      {
        "id": "Location.managingOrganization",
        "path": "Location.managingOrganization",
        "short": "Codice L2 identificativo della struttura (codice CUDES)",
        "definition": "Reference al profilo RLOrganizationL2",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLOrganizationL2"
            ]
          }
        ]
      },
      {
        "id": "Location.partOf",
        "path": "Location.partOf",
        "short": "Stanza di riferimento del posto letto",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "https://fhir.siss.regione.lombardia.it/StructureDefinition/RLLocationPLOStanza"
            ]
          }
        ]
      }
    ]
  }
}